/*! (c) 2020-2024 pixiv Inc. - https://github.com/pixiv/three-vrm/blob/release/LICENSE */
function e(e,i,t,n){return new(t||(t=Promise))((function(s,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function l(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?s(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(o,l)}a((n=n.apply(e,i||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class i{get name(){return i.EXTENSION_NAME}constructor(e){this.parser=e}extendMaterialParams(i,t){return e(this,void 0,void 0,(function*(){const e=this._getHDREmissiveMultiplierExtension(i);if(null==e)return;console.warn("VRMMaterialsHDREmissiveMultiplierLoaderPlugin: `VRMC_materials_hdr_emissiveMultiplier` is archived. Use `KHR_materials_emissive_strength` instead.");const n=e.emissiveMultiplier;t.emissiveIntensity=n}))}_getHDREmissiveMultiplierExtension(e){var t,n;const s=null===(t=this.parser.json.materials)||void 0===t?void 0:t[e];if(null==s)return void console.warn(`VRMMaterialsHDREmissiveMultiplierLoaderPlugin: Attempt to use materials[${e}] of glTF but the material doesn't exist`);const r=null===(n=s.extensions)||void 0===n?void 0:n[i.EXTENSION_NAME];return null!=r?r:void 0}}i.EXTENSION_NAME="VRMC_materials_hdr_emissiveMultiplier";export{i as VRMMaterialsHDREmissiveMultiplierLoaderPlugin};

/*! (c) 2019-2024 pixiv Inc. - https://github.com/pixiv/three-vrm/blob/release/LICENSE */
var p=(c,e,i)=>new Promise((n,s)=>{var l=r=>{try{t(i.next(r))}catch(o){s(o)}},m=r=>{try{t(i.throw(r))}catch(o){s(o)}},t=r=>r.done?n(r.value):Promise.resolve(r.value).then(l,m);t((i=i.apply(c,e)).next())});var a=class a{get name(){return a.EXTENSION_NAME}constructor(e){this.parser=e}extendMaterialParams(e,i){return p(this,null,function*(){let n=this._getHDREmissiveMultiplierExtension(e);if(n==null)return;console.warn("VRMMaterialsHDREmissiveMultiplierLoaderPlugin: `VRMC_materials_hdr_emissiveMultiplier` is archived. Use `KHR_materials_emissive_strength` instead.");let s=n.emissiveMultiplier;i.emissiveIntensity=s})}_getHDREmissiveMultiplierExtension(e){var m,t;let s=(m=this.parser.json.materials)==null?void 0:m[e];if(s==null){console.warn(`VRMMaterialsHDREmissiveMultiplierLoaderPlugin: Attempt to use materials[${e}] of glTF but the material doesn't exist`);return}let l=(t=s.extensions)==null?void 0:t[a.EXTENSION_NAME];if(l!=null)return l}};a.EXTENSION_NAME="VRMC_materials_hdr_emissiveMultiplier";var u=a;export{u as VRMMaterialsHDREmissiveMultiplierLoaderPlugin};

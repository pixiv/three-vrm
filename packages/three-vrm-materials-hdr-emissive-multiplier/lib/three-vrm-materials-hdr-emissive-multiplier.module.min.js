/*! (c) 2020-2023 pixiv Inc. - https://github.com/pixiv/three-vrm/blob/release/LICENSE */
function i(i,e,t,n){return new(t||(t=Promise))((function(s,r){function l(i){try{a(n.next(i))}catch(i){r(i)}}function o(i){try{a(n.throw(i))}catch(i){r(i)}}function a(i){var e;i.done?s(i.value):(e=i.value,e instanceof t?e:new t((function(i){i(e)}))).then(l,o)}a((n=n.apply(i,e||[])).next())}))}class e{get name(){return e.EXTENSION_NAME}constructor(i){this.parser=i}extendMaterialParams(e,t){return i(this,void 0,void 0,(function*(){const i=this._getHDREmissiveMultiplierExtension(e);if(null==i)return;console.warn("VRMMaterialsHDREmissiveMultiplierLoaderPlugin: `VRMC_materials_hdr_emissiveMultiplier` is archived. Use `KHR_materials_emissive_strength` instead.");const n=i.emissiveMultiplier;t.emissiveIntensity=n}))}_getHDREmissiveMultiplierExtension(i){var t,n;const s=null===(t=this.parser.json.materials)||void 0===t?void 0:t[i];if(null==s)return void console.warn(`VRMMaterialsHDREmissiveMultiplierLoaderPlugin: Attempt to use materials[${i}] of glTF but the material doesn't exist`);const r=null===(n=s.extensions)||void 0===n?void 0:n[e.EXTENSION_NAME];return null!=r?r:void 0}}e.EXTENSION_NAME="VRMC_materials_hdr_emissiveMultiplier";export{e as VRMMaterialsHDREmissiveMultiplierLoaderPlugin};

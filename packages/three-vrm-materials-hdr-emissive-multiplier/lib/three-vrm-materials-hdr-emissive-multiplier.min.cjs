/*! (c) 2019-2024 pixiv Inc. - https://github.com/pixiv/three-vrm/blob/release/LICENSE */
"use strict";var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var R=(r,e)=>{for(var s in e)c(r,s,{get:e[s],enumerable:!0})},f=(r,e,s,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of d(e))!v.call(r,i)&&i!==s&&c(r,i,{get:()=>e[i],enumerable:!(t=E(e,i))||t.enumerable});return r};var h=r=>f(c({},"__esModule",{value:!0}),r);var M=(r,e,s)=>new Promise((t,i)=>{var m=n=>{try{a(s.next(n))}catch(p){i(p)}},o=n=>{try{a(s.throw(n))}catch(p){i(p)}},a=n=>n.done?t(n.value):Promise.resolve(n.value).then(m,o);a((s=s.apply(r,e)).next())});var T={};R(T,{VRMMaterialsHDREmissiveMultiplierLoaderPlugin:()=>u});module.exports=h(T);var l=class l{get name(){return l.EXTENSION_NAME}constructor(e){this.parser=e}extendMaterialParams(e,s){return M(this,null,function*(){let t=this._getHDREmissiveMultiplierExtension(e);if(t==null)return;console.warn("VRMMaterialsHDREmissiveMultiplierLoaderPlugin: `VRMC_materials_hdr_emissiveMultiplier` is archived. Use `KHR_materials_emissive_strength` instead.");let i=t.emissiveMultiplier;s.emissiveIntensity=i})}_getHDREmissiveMultiplierExtension(e){var o,a;let i=(o=this.parser.json.materials)==null?void 0:o[e];if(i==null){console.warn(`VRMMaterialsHDREmissiveMultiplierLoaderPlugin: Attempt to use materials[${e}] of glTF but the material doesn't exist`);return}let m=(a=i.extensions)==null?void 0:a[l.EXTENSION_NAME];if(m!=null)return m}};l.EXTENSION_NAME="VRMC_materials_hdr_emissiveMultiplier";var u=l;

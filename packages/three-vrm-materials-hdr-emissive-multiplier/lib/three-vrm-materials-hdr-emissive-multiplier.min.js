/*! (c) 2020-2024 pixiv Inc. - https://github.com/pixiv/three-vrm/blob/release/LICENSE */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).THREE_VRM_MATERIALS_HDR_EMISSIVE_MULTIPLIER={})}(this,(function(e){"use strict";function i(e,i,t,n){return new(t||(t=Promise))((function(s,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function l(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?s(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(o,l)}a((n=n.apply(e,i||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class t{get name(){return t.EXTENSION_NAME}constructor(e){this.parser=e}extendMaterialParams(e,t){return i(this,void 0,void 0,(function*(){const i=this._getHDREmissiveMultiplierExtension(e);if(null==i)return;console.warn("VRMMaterialsHDREmissiveMultiplierLoaderPlugin: `VRMC_materials_hdr_emissiveMultiplier` is archived. Use `KHR_materials_emissive_strength` instead.");const n=i.emissiveMultiplier;t.emissiveIntensity=n}))}_getHDREmissiveMultiplierExtension(e){var i,n;const s=null===(i=this.parser.json.materials)||void 0===i?void 0:i[e];if(null==s)return void console.warn(`VRMMaterialsHDREmissiveMultiplierLoaderPlugin: Attempt to use materials[${e}] of glTF but the material doesn't exist`);const r=null===(n=s.extensions)||void 0===n?void 0:n[t.EXTENSION_NAME];return null!=r?r:void 0}}t.EXTENSION_NAME="VRMC_materials_hdr_emissiveMultiplier",e.VRMMaterialsHDREmissiveMultiplierLoaderPlugin=t,Object.defineProperty(e,"__esModule",{value:!0}),Object.assign(THREE,e)}));
